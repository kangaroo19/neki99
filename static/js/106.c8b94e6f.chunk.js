"use strict";(self.webpackChunkneki99=self.webpackChunkneki99||[]).push([[106],{106:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var a=n(9477),r=n(7528),o=n(5043),i=n(2823),l=n.n(i),c=(n(5884),n(5399)),s=n(8147),d=n(7008),u=n.n(d),g=n(5952),m=n(7709),h=(n(7799),n(4858));const p=()=>{const[e,t]=(0,o.useState)(""),n=(0,o.useRef)(null);return{imageHandler:()=>{const e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("accept","image/*"),e.click(),e.addEventListener("change",(async()=>{const a=n.current.getEditor(),r=e.files[0],o=a.getSelection(!0);try{const e=(0,s.KR)(c.I,"image/".concat(Date.now()));await(0,s.D)(e,r).then((e=>{(0,s.qk)(e.ref).then((e=>{a.insertEmbed(o.index,"image",e),a.setSelection(o.index+1),console.log("url \ud655\uc778",e),t(e)}))}))}catch(i){console.log(i)}}))},quillRef:n,imageUrl:e}};var b,y=n(4574),k=n(579);function f(){const{imageHandler:e,quillRef:t,imageUrl:n}=p(),a=(0,o.useMemo)((()=>({toolbar:{container:[["image","link","video","code-block"],[{header:[1,2,3,!1]}],["bold","italic","underline","strike","blockquote"],[{color:[]},{background:[]}],[{list:"ordered"},{list:"bullet"}]],handlers:{image:e}},syntax:{highlight:e=>m.A.highlightAuto(e).value},imageDropAndPaste:{},ImageResize:{parchment:i.Quill.import("parchment"),mopdules:["Resize","DisplaySize"]}})),[]),{getValues:r,setValue:l}=(0,h.xW)();return(0,k.jsx)("div",{className:"ql-snow",children:(0,k.jsx)(x,{className:"ql-editor",ref:t,theme:"snow",placeholder:"\ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.",onChange:e=>{l("content",e),console.log(e)},modules:a,formats:["header","bold","italic","underline","strike","blockquote","image","code-block","list","link"],value:r("content")})})}i.Quill.register("modules/ImageResize",u()),i.Quill.register("modules/imageDropAndPaste",g.A),m.A.configure({languages:["javascript","ruby","python","rust"]});const x=(0,y.Ay)(l())(b||(b=(0,r.A)(["\n  & > .ql-toolbar {\n    position: sticky;\n  }\n  & > .ql-container {\n    overflow-x: hidden;\n    height: 300px;\n  }\n"])));var S=n(6808);function v(){const e=(0,h.mN)(),{mutate:t}=(0,S._u)();return(0,k.jsxs)(h.Op,{...e,children:[(0,k.jsx)(h.xI,{name:"category",control:e.control,defaultValue:"",render:e=>{let{field:t}=e;return(0,k.jsxs)("select",{...t,children:[(0,k.jsx)("option",{value:"",children:"\uc120\ud0dd\ud558\uc138\uc694"}),(0,k.jsx)("option",{value:"react",children:"\ub9ac\uc561\ud2b8"}),(0,k.jsx)("option",{value:"javascript",children:"\uc790\ubc14\uc2a4\ud06c\ub9bd\ud2b8"}),(0,k.jsx)("option",{value:"other",children:"\uae30\ud0c0"})]})}}),(0,k.jsx)(a.A.Input,{width:"100%",placeholder:"\uc81c\ubaa9\uc744 \uc791\uc131\ud574 \uc8fc\uc138\uc694",registerFn:e.register("title")}),(0,k.jsx)(a.A.Input,{width:"100%",placeholder:"\uc694\uc57d\uc744 \uc791\uc131\ud574 \uc8fc\uc138\uc694",registerFn:e.register("summary")}),(0,k.jsx)(f,{}),(0,k.jsx)(a.A.Button,{onClick:e.handleSubmit((e=>{t(e)})),children:"\uc804\uc1a1"})]})}},5399:(e,t,n)=>{n.d(t,{I:()=>c,db:()=>l});var a=n(7064),r=n(6032),o=n(8147);const i=(0,a.Wp)({apiKey:"AIzaSyDPNsFfkdl2fwo4vyMJRC3Wr053XlW7zGs",authDomain:"neki99-7324a.firebaseapp.com",projectId:"neki99-7324a",storageBucket:"neki99-7324a.appspot.com",messagingSenderId:"1043899751655",appId:"1:1043899751655:web:478037e3c7986ab7e71642",measurementId:"G-GTXK2JTFGH"}),l=(0,r.aU)(i),c=(0,o.c7)(i)},1565:(e,t,n)=>{function a(){const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0"),r=String(e.getHours()).padStart(2,"0"),o=String(e.getMinutes()).padStart(2,"0"),i=String(e.getSeconds()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(a," ").concat(r,":").concat(o,":").concat(i)}n.d(t,{A:()=>a})},6808:(e,t,n)=>{n.d(t,{OI:()=>d,_u:()=>u});var a=n(3747),r=n(7097),o=n(5399),i=n(6032),l=n(1565);const c=async()=>{const e=[];try{const t=(0,i.P)((0,i.rJ)(o.db,"blog"),(0,i.My)("createdAt","desc"));return(await(0,i.GG)(t)).forEach((t=>{e.push({...t.data(),id:t.id})})),e}catch(t){throw console.error("Error fetching document:",t),t}},s=async e=>{await(0,i.gS)((0,i.rJ)(o.db,"blog"),{category:e.category,content:e.content,title:e.title,summary:e.summary,createdAt:(0,l.A)(),id:null})},d=()=>(0,a.I)({queryKey:["blogList"],queryFn:c}),u=()=>(0,r.n)({mutationFn:s})}}]);
//# sourceMappingURL=106.c8b94e6f.chunk.js.map