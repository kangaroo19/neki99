"use strict";(self.webpackChunkneki99=self.webpackChunkneki99||[]).push([[219],{106:(e,t,o)=>{o.r(t),o.d(t,{default:()=>R});var n=o(1152),i=o(7528),a=o(5043),l=o(2823),r=o.n(l),s=(o(5884),o(5399)),c=o(8147),_=o(7008),d=o.n(_),u=o(5952),S=o(7709),E=(o(7799),o(4858));const T=()=>{const[e,t]=(0,a.useState)(""),o=(0,a.useRef)(null);return{imageHandler:()=>{const e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("accept","image/*"),e.click(),e.addEventListener("change",(async()=>{const n=o.current.getEditor(),i=e.files[0],a=n.getSelection(!0);try{const e=(0,c.KR)(s.I,"image/".concat(Date.now()));await(0,c.D)(e,i).then((e=>{(0,c.qk)(e.ref).then((e=>{n.insertEmbed(a.index,"image",e),n.setSelection(a.index+1),console.log("url \ud655\uc778",e),t(e)}))}))}catch(l){console.log(l)}}))},quillRef:o,imageUrl:e}};var A,p=o(4574),g=o(579);function h(e){let{updateData:t}=e;const{imageHandler:o,quillRef:n,imageUrl:i}=T(),r=(0,a.useMemo)((()=>({toolbar:{container:[["image","link","video","code-block"],[{header:[1,2,3,!1]}],["bold","italic","underline","strike","blockquote"],[{color:[]},{background:[]}],[{list:"ordered"},{list:"bullet"}]],handlers:{image:o}},syntax:{highlight:e=>S.A.highlightAuto(e).value},imageDropAndPaste:{},ImageResize:{parchment:l.Quill.import("parchment"),mopdules:["Resize","DisplaySize"]}})),[]),{getValues:s,setValue:c}=(0,E.xW)();return(0,a.useEffect)((()=>{c("content",t)}),[]),(0,g.jsx)("div",{className:"ql-snow",children:(0,g.jsx)(P,{className:"ql-editor",ref:n,theme:"snow",placeholder:"\ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.",onChange:e=>{c("content",e)},modules:r,formats:["header","bold","italic","underline","strike","blockquote","image","code-block","list","link"],value:s("content")})})}l.Quill.register("modules/ImageResize",d()),l.Quill.register("modules/imageDropAndPaste",u.A),S.A.configure({languages:["javascript","ruby","python","rust"]});const P=(0,p.Ay)(r())(A||(A=(0,i.A)(["\n  & > .ql-toolbar {\n    position: sticky;\n  }\n  & > .ql-container {\n    overflow-x: hidden;\n    height: 300px;\n  }\n"])));var C=o(5917),O=o(3216);function R(){const e=(0,E.mN)(),t=(0,O.zy)().state;console.log(t);const o=(0,O.Zp)(),{mutate:i}=(0,C._)();return(0,g.jsxs)(E.Op,{...e,children:[(0,g.jsx)(E.xI,{name:"category",control:e.control,defaultValue:t&&t.category,render:e=>{let{field:t}=e;return(0,g.jsxs)("select",{...t,children:[(0,g.jsx)("option",{value:"",children:"\uc120\ud0dd\ud558\uc138\uc694"}),(0,g.jsx)("option",{value:"react",children:"\ub9ac\uc561\ud2b8"}),(0,g.jsx)("option",{value:"javascript",children:"\uc790\ubc14\uc2a4\ud06c\ub9bd\ud2b8"}),(0,g.jsx)("option",{value:"other",children:"\uae30\ud0c0"})]})}}),(0,g.jsx)(n.A.Input,{width:"100%",placeholder:"\uc81c\ubaa9\uc744 \uc791\uc131\ud574 \uc8fc\uc138\uc694",registerFn:e.register("title",{value:null===t||void 0===t?void 0:t.title})}),(0,g.jsx)(n.A.Input,{width:"100%",placeholder:"\uc694\uc57d\uc744 \uc791\uc131\ud574 \uc8fc\uc138\uc694",registerFn:e.register("summary",{value:null===t||void 0===t?void 0:t.summary})}),(0,g.jsx)(h,{updateData:null===t||void 0===t?void 0:t.content}),(0,g.jsx)(n.A.Button,{onClick:e.handleSubmit((e=>((e,t)=>{i({method:e,data:t},{onSuccess:()=>{o("/blog")}})})("post",e))),children:"\uc804\uc1a1"})]})}},5399:(e,t,o)=>{o.d(t,{I:()=>c,db:()=>s});var n=o(7064),i=o(6032),a=o(8147);const l={apiKey:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GITHUB_API_KEY:"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"}.REACT_APP_API_KEY,authDomain:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GITHUB_API_KEY:"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"}.REACT_APP_AUTH_DOMAIN,projectId:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GITHUB_API_KEY:"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"}.REACT_APP_PROJECT_ID,storageBucket:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GITHUB_API_KEY:"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"}.REACT_APP_STORAGE_BUCKET,messagingSenderId:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GITHUB_API_KEY:"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"}.REACT_APP_MESSAGING_SENDER_ID,appId:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GITHUB_API_KEY:"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"}.REACT_APP_APP_ID,measurementId:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GITHUB_API_KEY:"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"}.REACT_APP_MEASUREMENT_ID},r=(0,n.Wp)(l),s=(0,i.aU)(r),c=(0,a.c7)(r)},1565:(e,t,o)=>{function n(){const e=new Date,t=e.getFullYear(),o=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),i=String(e.getHours()).padStart(2,"0"),a=String(e.getMinutes()).padStart(2,"0"),l=String(e.getSeconds()).padStart(2,"0");return"".concat(t,"-").concat(o,"-").concat(n," ").concat(i,":").concat(a,":").concat(l)}o.d(t,{A:()=>n})},8499:(e,t,o)=>{o.d(t,{A:()=>i});const n=o.p+"static/media/noImg.d01f81a0627ebc34dc35.webp";function i(e){const t=(new DOMParser).parseFromString(e,"text/html").querySelector("img");return t?t.src:n}},5917:(e,t,o)=>{o.d(t,{_:()=>d});var n=o(7097),i=o(5399),a=o(6032),l=o(1565),r=o(8499);const s=async e=>{const t=(0,a.H9)((0,a.rJ)(i.db,"blog"));await(0,a.BN)(t,{category:e.category,content:e.content,title:e.title,img:(0,r.A)(e.content),summary:e.summary,createdAt:(0,l.A)(),id:t.id})},c=async e=>{console.log(e),await(0,a.kd)((0,a.H9)(i.db,"blog",e))},_=e=>{console.log(e)},d=()=>(0,n.n)({mutationKey:["blogMutate"],mutationFn:e=>(e=>{switch(e.method){case"post":return s(e.data);case"delete":return c(e.data);case"update":return _(e)}})(e)})}}]);
//# sourceMappingURL=219.cf24eaf3.chunk.js.map