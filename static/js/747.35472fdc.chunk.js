"use strict";(self.webpackChunkneki99=self.webpackChunkneki99||[]).push([[747],{3747:(t,e,s)=>{s.d(e,{I:()=>st});var i,n,r,o,h,a,l,u,c,d,A,p,f,v,b,y=s(9790),R=s(5149),g=s(6562),w=s(8458),O=s(4558),C=s(9723),k=s(1454),m=s(3491),M=s(329),S=s(9210),E=(i=new WeakMap,n=new WeakMap,r=new WeakMap,o=new WeakMap,h=new WeakMap,a=new WeakMap,l=new WeakMap,u=new WeakMap,c=new WeakMap,d=new WeakMap,A=new WeakMap,p=new WeakMap,f=new WeakMap,v=new WeakMap,b=new WeakSet,class extends M.Q{constructor(t,e){super(),(0,y.A)(this,b),(0,R.A)(this,i,void 0),(0,R.A)(this,n,void 0),(0,R.A)(this,r,void 0),(0,R.A)(this,o,void 0),(0,R.A)(this,h,void 0),(0,R.A)(this,a,void 0),(0,R.A)(this,l,void 0),(0,R.A)(this,u,void 0),(0,R.A)(this,c,void 0),(0,R.A)(this,d,void 0),(0,R.A)(this,A,void 0),(0,R.A)(this,p,void 0),(0,R.A)(this,f,void 0),(0,R.A)(this,v,new Set),this.options=e,(0,O.A)(i,this,t),(0,O.A)(l,this,null),this.bindMethods(),this.setOptions(e)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&((0,w.A)(n,this).addObserver(this),j((0,w.A)(n,this),this.options)?(0,g.A)(b,this,U).call(this):this.updateResult(),(0,g.A)(b,this,P).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return x((0,w.A)(n,this),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return x((0,w.A)(n,this),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,(0,g.A)(b,this,T).call(this),(0,g.A)(b,this,D).call(this),(0,w.A)(n,this).removeObserver(this)}setOptions(t,e){const s=this.options,r=(0,w.A)(n,this);if(this.options=(0,w.A)(i,this).defaultQueryOptions(t),void 0!==this.options.enabled&&"boolean"!==typeof this.options.enabled)throw new Error("Expected enabled to be a boolean");(0,g.A)(b,this,I).call(this),(0,w.A)(n,this).setOptions(this.options),s._defaulted&&!(0,C.f8)(this.options,s)&&(0,w.A)(i,this).getQueryCache().notify({type:"observerOptionsUpdated",query:(0,w.A)(n,this),observer:this});const o=this.hasListeners();o&&q((0,w.A)(n,this),r,this.options,s)&&(0,g.A)(b,this,U).call(this),this.updateResult(e),!o||(0,w.A)(n,this)===r&&this.options.enabled===s.enabled&&this.options.staleTime===s.staleTime||(0,g.A)(b,this,W).call(this);const h=(0,g.A)(b,this,Q).call(this);!o||(0,w.A)(n,this)===r&&this.options.enabled===s.enabled&&h===(0,w.A)(f,this)||(0,g.A)(b,this,F).call(this,h)}getOptimisticResult(t){const e=(0,w.A)(i,this).getQueryCache().build((0,w.A)(i,this),t),s=this.createResult(e,t);return function(t,e){if(!(0,C.f8)(t.getCurrentResult(),e))return!0;return!1}(this,s)&&((0,O.A)(o,this,s),(0,O.A)(a,this,this.options),(0,O.A)(h,this,(0,w.A)(n,this).state)),s}getCurrentResult(){return(0,w.A)(o,this)}trackResult(t,e){const s={};return Object.keys(t).forEach((i=>{Object.defineProperty(s,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),null===e||void 0===e||e(i),t[i])})})),s}trackProp(t){(0,w.A)(v,this).add(t)}getCurrentQuery(){return(0,w.A)(n,this)}refetch(){let{...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.fetch({...t})}fetchOptimistic(t){const e=(0,w.A)(i,this).defaultQueryOptions(t),s=(0,w.A)(i,this).getQueryCache().build((0,w.A)(i,this),e);return s.isFetchingOptimistic=!0,s.fetch().then((()=>this.createResult(s,e)))}fetch(t){var e;return(0,g.A)(b,this,U).call(this,{...t,cancelRefetch:null===(e=t.cancelRefetch)||void 0===e||e}).then((()=>(this.updateResult(),(0,w.A)(o,this))))}createResult(t,e){const s=(0,w.A)(n,this),i=this.options,A=(0,w.A)(o,this),p=(0,w.A)(h,this),f=(0,w.A)(a,this),v=t!==s?t.state:(0,w.A)(r,this),{state:b}=t;let y,R={...b},g=!1;if(e._optimisticResults){const n=this.hasListeners(),r=!n&&j(t,e),o=n&&q(t,s,e,i);(r||o)&&(R={...R,...(0,S.k)(b.data,t.options)}),"isRestoring"===e._optimisticResults&&(R.fetchStatus="idle")}let{error:k,errorUpdatedAt:m,status:M}=R;if(e.select&&void 0!==R.data)if(A&&R.data===(null===p||void 0===p?void 0:p.data)&&e.select===(0,w.A)(u,this))y=(0,w.A)(c,this);else try{(0,O.A)(u,this,e.select),y=e.select(R.data),y=(0,C.pl)(null===A||void 0===A?void 0:A.data,y,e),(0,O.A)(c,this,y),(0,O.A)(l,this,null)}catch(T){(0,O.A)(l,this,T)}else y=R.data;if(void 0!==e.placeholderData&&void 0===y&&"pending"===M){let t;var E;if(null!==A&&void 0!==A&&A.isPlaceholderData&&e.placeholderData===(null===f||void 0===f?void 0:f.placeholderData))t=A.data;else if(t="function"===typeof e.placeholderData?e.placeholderData(null===(E=(0,w.A)(d,this))||void 0===E?void 0:E.state.data,(0,w.A)(d,this)):e.placeholderData,e.select&&void 0!==t)try{t=e.select(t),(0,O.A)(l,this,null)}catch(T){(0,O.A)(l,this,T)}void 0!==t&&(M="success",y=(0,C.pl)(null===A||void 0===A?void 0:A.data,t,e),g=!0)}(0,w.A)(l,this)&&(k=(0,w.A)(l,this),y=(0,w.A)(c,this),m=Date.now(),M="error");const U="fetching"===R.fetchStatus,W="pending"===M,Q="error"===M,F=W&&U,P=void 0!==y;return{status:M,fetchStatus:R.fetchStatus,isPending:W,isSuccess:"success"===M,isError:Q,isInitialLoading:F,isLoading:F,data:y,dataUpdatedAt:R.dataUpdatedAt,error:k,errorUpdatedAt:m,failureCount:R.fetchFailureCount,failureReason:R.fetchFailureReason,errorUpdateCount:R.errorUpdateCount,isFetched:R.dataUpdateCount>0||R.errorUpdateCount>0,isFetchedAfterMount:R.dataUpdateCount>v.dataUpdateCount||R.errorUpdateCount>v.errorUpdateCount,isFetching:U,isRefetching:U&&!W,isLoadingError:Q&&!P,isPaused:"paused"===R.fetchStatus,isPlaceholderData:g,isRefetchError:Q&&P,isStale:B(t,e),refetch:this.refetch}}updateResult(t){const e=(0,w.A)(o,this),s=this.createResult((0,w.A)(n,this),this.options);if((0,O.A)(h,this,(0,w.A)(n,this).state),(0,O.A)(a,this,this.options),void 0!==(0,w.A)(h,this).data&&(0,O.A)(d,this,(0,w.A)(n,this)),(0,C.f8)(s,e))return;(0,O.A)(o,this,s);const i={};!1!==(null===t||void 0===t?void 0:t.listeners)&&(()=>{if(!e)return!0;const{notifyOnChangeProps:t}=this.options,s="function"===typeof t?t():t;if("all"===s||!s&&!(0,w.A)(v,this).size)return!0;const i=new Set(null!==s&&void 0!==s?s:(0,w.A)(v,this));return this.options.throwOnError&&i.add("error"),Object.keys((0,w.A)(o,this)).some((t=>{const s=t;return(0,w.A)(o,this)[s]!==e[s]&&i.has(s)}))})()&&(i.listeners=!0),(0,g.A)(b,this,L).call(this,{...i,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&(0,g.A)(b,this,P).call(this)}});function U(t){(0,g.A)(b,this,I).call(this);let e=(0,w.A)(n,this).fetch(this.options,t);return null!==t&&void 0!==t&&t.throwOnError||(e=e.catch(C.lQ)),e}function W(){if((0,g.A)(b,this,T).call(this),C.S$||(0,w.A)(o,this).isStale||!(0,C.gn)(this.options.staleTime))return;const t=(0,C.j3)((0,w.A)(o,this).dataUpdatedAt,this.options.staleTime)+1;(0,O.A)(A,this,setTimeout((()=>{(0,w.A)(o,this).isStale||this.updateResult()}),t))}function Q(){var t;return null!==(t="function"===typeof this.options.refetchInterval?this.options.refetchInterval((0,w.A)(n,this)):this.options.refetchInterval)&&void 0!==t&&t}function F(t){(0,g.A)(b,this,D).call(this),(0,O.A)(f,this,t),!C.S$&&!1!==this.options.enabled&&(0,C.gn)((0,w.A)(f,this))&&0!==(0,w.A)(f,this)&&(0,O.A)(p,this,setInterval((()=>{(this.options.refetchIntervalInBackground||m.m.isFocused())&&(0,g.A)(b,this,U).call(this)}),(0,w.A)(f,this)))}function P(){(0,g.A)(b,this,W).call(this),(0,g.A)(b,this,F).call(this,(0,g.A)(b,this,Q).call(this))}function T(){(0,w.A)(A,this)&&(clearTimeout((0,w.A)(A,this)),(0,O.A)(A,this,void 0))}function D(){(0,w.A)(p,this)&&(clearInterval((0,w.A)(p,this)),(0,O.A)(p,this,void 0))}function I(){const t=(0,w.A)(i,this).getQueryCache().build((0,w.A)(i,this),this.options);if(t===(0,w.A)(n,this))return;const e=(0,w.A)(n,this);(0,O.A)(n,this,t),(0,O.A)(r,this,t.state),this.hasListeners()&&(null===e||void 0===e||e.removeObserver(this),t.addObserver(this))}function L(t){k.j.batch((()=>{t.listeners&&this.listeners.forEach((t=>{t((0,w.A)(o,this))})),(0,w.A)(i,this).getQueryCache().notify({query:(0,w.A)(n,this),type:"observerResultsUpdated"})}))}function j(t,e){return function(t,e){return!1!==e.enabled&&void 0===t.state.data&&!("error"===t.state.status&&!1===e.retryOnMount)}(t,e)||void 0!==t.state.data&&x(t,e,e.refetchOnMount)}function x(t,e,s){if(!1!==e.enabled){const i="function"===typeof s?s(t):s;return"always"===i||!1!==i&&B(t,e)}return!1}function q(t,e,s,i){return(t!==e||!1===i.enabled)&&(!s.suspense||"error"!==t.state.status)&&B(t,s)}function B(t,e){return!1!==e.enabled&&t.isStaleByTime(e.staleTime)}var _=s(5043);s(579);function z(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var $=_.createContext(z()),G=()=>_.useContext($),H=s(3248),J=_.createContext(!1),K=()=>_.useContext(J),N=(J.Provider,s(3247)),V=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},X=t=>{_.useEffect((()=>{t.clearReset()}),[t])},Y=t=>{let{result:e,errorResetBoundary:s,throwOnError:i,query:n}=t;return e.isError&&!s.isReset()&&!e.isFetching&&n&&(0,N.G)(i,[e.error,n])},Z=t=>{t.suspense&&"number"!==typeof t.staleTime&&(t.staleTime=1e3)},tt=(t,e)=>(null===t||void 0===t?void 0:t.suspense)&&e.isPending,et=(t,e,s)=>e.fetchOptimistic(t).catch((()=>{s.clearReset()}));function st(t,e){return function(t,e,s){const i=(0,H.jE)(s),n=K(),r=G(),o=i.defaultQueryOptions(t);o._optimisticResults=n?"isRestoring":"optimistic",Z(o),V(o,r),X(r);const[h]=_.useState((()=>new e(i,o))),a=h.getOptimisticResult(o);if(_.useSyncExternalStore(_.useCallback((t=>{const e=n?()=>{}:h.subscribe(k.j.batchCalls(t));return h.updateResult(),e}),[h,n]),(()=>h.getCurrentResult()),(()=>h.getCurrentResult())),_.useEffect((()=>{h.setOptions(o,{listeners:!1})}),[o,h]),tt(o,a))throw et(o,h,r);if(Y({result:a,errorResetBoundary:r,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash)}))throw a.error;return o.notifyOnChangeProps?a:h.trackResult(a)}(t,E,e)}}}]);
//# sourceMappingURL=747.35472fdc.chunk.js.map