"use strict";(self.webpackChunkneki99=self.webpackChunkneki99||[]).push([[106],{106:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x});var r=n(1152),o=n(7528),a=n(5043),c=n(2823),i=n.n(c),l=(n(5884),n(5399)),s=n(8147),d=n(7008),u=n.n(d),g=n(5952),h=n(7709),m=(n(7799),n(4858));const p=()=>{const[e,t]=(0,a.useState)(""),n=(0,a.useRef)(null);return{imageHandler:()=>{const e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("accept","image/*"),e.click(),e.addEventListener("change",(async()=>{const r=n.current.getEditor(),o=e.files[0],a=r.getSelection(!0);try{const e=(0,s.KR)(l.I,"image/".concat(Date.now()));await(0,s.D)(e,o).then((e=>{(0,s.qk)(e.ref).then((e=>{r.insertEmbed(a.index,"image",e),r.setSelection(a.index+1),console.log("url \ud655\uc778",e),t(e)}))}))}catch(c){console.log(c)}}))},quillRef:n,imageUrl:e}};var y,b=n(4574),f=n(579);function k(){const{imageHandler:e,quillRef:t,imageUrl:n}=p(),r=(0,a.useMemo)((()=>({toolbar:{container:[["image","link","video","code-block"],[{header:[1,2,3,!1]}],["bold","italic","underline","strike","blockquote"],[{color:[]},{background:[]}],[{list:"ordered"},{list:"bullet"}]],handlers:{image:e}},syntax:{highlight:e=>h.A.highlightAuto(e).value},imageDropAndPaste:{},ImageResize:{parchment:c.Quill.import("parchment"),mopdules:["Resize","DisplaySize"]}})),[]),{getValues:o,setValue:i}=(0,m.xW)();return(0,f.jsx)("div",{className:"ql-snow",children:(0,f.jsx)(w,{className:"ql-editor",ref:t,theme:"snow",placeholder:"\ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.",onChange:e=>{i("content",e),console.log(e)},modules:r,formats:["header","bold","italic","underline","strike","blockquote","image","code-block","list","link"],value:o("content")})})}c.Quill.register("modules/ImageResize",u()),c.Quill.register("modules/imageDropAndPaste",g.A),h.A.configure({languages:["javascript","ruby","python","rust"]});const w=(0,b.Ay)(i())(y||(y=(0,o.A)(["\n  & > .ql-toolbar {\n    position: sticky;\n  }\n  & > .ql-container {\n    overflow-x: hidden;\n    height: 300px;\n  }\n"])));var A=n(6808);function x(){const e=(0,m.mN)(),{mutate:t}=(0,A._u)();return(0,f.jsxs)(m.Op,{...e,children:[(0,f.jsx)(m.xI,{name:"category",control:e.control,defaultValue:"",render:e=>{let{field:t}=e;return(0,f.jsxs)("select",{...t,children:[(0,f.jsx)("option",{value:"",children:"\uc120\ud0dd\ud558\uc138\uc694"}),(0,f.jsx)("option",{value:"react",children:"\ub9ac\uc561\ud2b8"}),(0,f.jsx)("option",{value:"javascript",children:"\uc790\ubc14\uc2a4\ud06c\ub9bd\ud2b8"}),(0,f.jsx)("option",{value:"other",children:"\uae30\ud0c0"})]})}}),(0,f.jsx)(r.A.Input,{width:"100%",placeholder:"\uc81c\ubaa9\uc744 \uc791\uc131\ud574 \uc8fc\uc138\uc694",registerFn:e.register("title")}),(0,f.jsx)(r.A.Input,{width:"100%",placeholder:"\uc694\uc57d\uc744 \uc791\uc131\ud574 \uc8fc\uc138\uc694",registerFn:e.register("summary")}),(0,f.jsx)(k,{}),(0,f.jsx)(r.A.Button,{onClick:e.handleSubmit((e=>{t(e)})),children:"\uc804\uc1a1"})]})}},5399:(e,t,n)=>{n.d(t,{I:()=>l,db:()=>i});var r=n(7064),o=n(6032),a=n(8147);const c=(0,r.Wp)({apiKey:"AIzaSyDPNsFfkdl2fwo4vyMJRC3Wr053XlW7zGs",authDomain:"neki99-7324a.firebaseapp.com",projectId:"neki99-7324a",storageBucket:"neki99-7324a.appspot.com",messagingSenderId:"1043899751655",appId:"1:1043899751655:web:478037e3c7986ab7e71642",measurementId:"G-GTXK2JTFGH"}),i=(0,o.aU)(c),l=(0,a.c7)(c)},1565:(e,t,n)=>{function r(){const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),o=String(e.getHours()).padStart(2,"0"),a=String(e.getMinutes()).padStart(2,"0"),c=String(e.getSeconds()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r," ").concat(o,":").concat(a,":").concat(c)}n.d(t,{A:()=>r})},6808:(e,t,n)=>{n.d(t,{OI:()=>h,_u:()=>m});var r=n(3747),o=n(7097),a=n(5399),c=n(6032),i=n(1565);const l=async()=>{console.log("\ubaa8\ub4e0\uac70");const e=[];try{const t=(0,c.P)((0,c.rJ)(a.db,"blog"),(0,c.My)("createdAt","desc"));return(await(0,c.GG)(t)).forEach((t=>{e.push({...t.data(),id:t.id})})),e}catch(t){throw console.error("Error fetching document:",t),t}},s=async()=>{console.log("\ub9ac\uc561\ud2b8 \ube14\ub85c\uadf8 \ub9ac\uc2a4\ud2b8");const e=[];try{const t=(0,c.P)((0,c.rJ)(a.db,"blog"),(0,c.My)("createdAt","desc"));return(await(0,c.GG)(t)).forEach((t=>{e.push({...t.data(),id:t.id})})),e}catch(t){throw console.error("Error fetching document:",t),t}},d=async()=>{console.log("\uc790\ubc14\uc2a4\ud06c\ub9bd\ud2b8 \ube14\ub85c\uadf8 \ub9ac\uc2a4\ud2b8");const e=[];try{const t=(0,c.P)((0,c.rJ)(a.db,"blog"),(0,c.My)("createdAt","desc"));return(await(0,c.GG)(t)).forEach((t=>{e.push({...t.data(),id:t.id})})),e}catch(t){throw console.error("Error fetching document:",t),t}},u=async()=>{console.log("\ub2e4\ub978 \ube14\ub85c\uadf8 \ub9ac\uc2a4\ud2b8");const e=[];try{const t=(0,c.P)((0,c.rJ)(a.db,"blog"),(0,c.My)("createdAt","desc"));return(await(0,c.GG)(t)).forEach((t=>{e.push({...t.data(),id:t.id})})),e}catch(t){throw console.error("Error fetching document:",t),t}},g=async e=>{await(0,c.gS)((0,c.rJ)(a.db,"blog"),{category:e.category,content:e.content,title:e.title,summary:e.summary,createdAt:(0,i.A)(),id:null})},h=e=>(console.log(e),(0,r.I)({queryKey:["blogList",e],queryFn:()=>(e=>{switch(e.label){case"all":return l();case"React":return s();case"JavaScript":return d();default:return u()}})(e)})),m=()=>(0,o.n)({mutationFn:g})}}]);
//# sourceMappingURL=106.895377e4.chunk.js.map