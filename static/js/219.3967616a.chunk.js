"use strict";(self.webpackChunkneki99=self.webpackChunkneki99||[]).push([[219],{106:(e,t,o)=>{o.r(t),o.d(t,{default:()=>O});var n=o(1152),i=o(7528),a=o(5043),r=o(2823),c=o.n(r),l=(o(5884),o(5399)),d=o(8147),s=o(7008),_=o.n(s),u=o(5952),S=o(7709),E=(o(7799),o(4858));const T=()=>{const[e,t]=(0,a.useState)(""),o=(0,a.useRef)(null);return{imageHandler:()=>{const e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("accept","image/*"),e.click(),e.addEventListener("change",(async()=>{const n=o.current.getEditor(),i=e.files[0],a=n.getSelection(!0);try{const e=(0,d.KR)(l.I,"image/".concat(Date.now()));await(0,d.D)(e,i).then((e=>{(0,d.qk)(e.ref).then((e=>{n.insertEmbed(a.index,"image",e),n.setSelection(a.index+1),console.log("url \ud655\uc778",e),t(e)}))}))}catch(r){console.log(r)}}))},quillRef:o,imageUrl:e}};var A,g=o(4574),P=o(579);function m(e){let{updateData:t}=e;const{imageHandler:o,quillRef:n,imageUrl:i}=T(),c=(0,a.useMemo)((()=>({toolbar:{container:[["image","link","video","code-block"],[{header:[1,2,3,!1]}],["bold","italic","underline","strike","blockquote"],[{color:[]},{background:[]}],[{list:"ordered"},{list:"bullet"}]],handlers:{image:o}},syntax:{highlight:e=>S.A.highlightAuto(e).value},imageDropAndPaste:{},ImageResize:{parchment:r.Quill.import("parchment"),mopdules:["Resize","DisplaySize"]}})),[]),{getValues:l,setValue:d}=(0,E.xW)();return(0,a.useEffect)((()=>{d("content",t)}),[]),(0,P.jsx)("div",{className:"ql-snow",children:(0,P.jsx)(p,{className:"ql-editor",ref:n,theme:"snow",placeholder:"\ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.",onChange:e=>{d("content",e)},modules:c,formats:["header","bold","italic","underline","strike","blockquote","image","code-block","list","link"],value:l("content")})})}r.Quill.register("modules/ImageResize",_()),r.Quill.register("modules/imageDropAndPaste",u.A),S.A.configure({languages:["javascript","ruby","python","rust"]});const p=(0,g.Ay)(c())(A||(A=(0,i.A)(["\n  & > .ql-toolbar {\n    position: sticky;\n  }\n  & > .ql-container {\n    overflow-x: hidden;\n    height: 300px;\n  }\n"])));var R=o(5917),C=o(3216);function O(){const e=(0,E.mN)(),t=(0,C.zy)().state;console.log(t);const o=(0,C.Zp)(),{mutate:i}=(0,R._)();return(0,P.jsxs)(E.Op,{...e,children:[(0,P.jsx)(E.xI,{name:"category",control:e.control,defaultValue:t&&t.category,render:e=>{let{field:t}=e;return(0,P.jsxs)("select",{...t,children:[(0,P.jsx)("option",{value:"",children:"\uc120\ud0dd\ud558\uc138\uc694"}),(0,P.jsx)("option",{value:"react",children:"\ub9ac\uc561\ud2b8"}),(0,P.jsx)("option",{value:"javascript",children:"\uc790\ubc14\uc2a4\ud06c\ub9bd\ud2b8"}),(0,P.jsx)("option",{value:"other",children:"\uae30\ud0c0"})]})}}),(0,P.jsx)(n.A.Input,{width:"100%",placeholder:"\uc81c\ubaa9\uc744 \uc791\uc131\ud574 \uc8fc\uc138\uc694",registerFn:e.register("title",{value:null===t||void 0===t?void 0:t.title})}),(0,P.jsx)(n.A.Input,{width:"100%",placeholder:"\uc694\uc57d\uc744 \uc791\uc131\ud574 \uc8fc\uc138\uc694",registerFn:e.register("summary",{value:null===t||void 0===t?void 0:t.summary})}),(0,P.jsx)(m,{updateData:null===t||void 0===t?void 0:t.content}),(0,P.jsx)(n.A.Button,{onClick:e.handleSubmit((e=>((e,t)=>{i({method:e,data:t},{onSuccess:()=>{o("/blog")}})})("post",e))),children:"\uc804\uc1a1"})]})}},5399:(e,t,o)=>{o.d(t,{I:()=>d,db:()=>l});var n=o(7064),i=o(6032),a=o(8147);const r={apiKey:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GITHUB_API_KEY:"123"}.REACT_APP_API_KEY,authDomain:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GITHUB_API_KEY:"123"}.REACT_APP_AUTH_DOMAIN,projectId:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GITHUB_API_KEY:"123"}.REACT_APP_PROJECT_ID,storageBucket:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GITHUB_API_KEY:"123"}.REACT_APP_STORAGE_BUCKET,messagingSenderId:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GITHUB_API_KEY:"123"}.REACT_APP_MESSAGING_SENDER_ID,appId:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GITHUB_API_KEY:"123"}.REACT_APP_APP_ID,measurementId:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GITHUB_API_KEY:"123"}.REACT_APP_MEASUREMENT_ID},c=(0,n.Wp)(r),l=(0,i.aU)(c),d=(0,a.c7)(c)},1565:(e,t,o)=>{function n(){const e=new Date,t=e.getFullYear(),o=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),i=String(e.getHours()).padStart(2,"0"),a=String(e.getMinutes()).padStart(2,"0"),r=String(e.getSeconds()).padStart(2,"0");return"".concat(t,"-").concat(o,"-").concat(n," ").concat(i,":").concat(a,":").concat(r)}o.d(t,{A:()=>n})},8499:(e,t,o)=>{o.d(t,{A:()=>i});const n=o.p+"static/media/noImg.d01f81a0627ebc34dc35.webp";function i(e){const t=(new DOMParser).parseFromString(e,"text/html").querySelector("img");return t?t.src:n}},5917:(e,t,o)=>{o.d(t,{_:()=>_});var n=o(7097),i=o(5399),a=o(6032),r=o(1565),c=o(8499);const l=async e=>{const t=(0,a.H9)((0,a.rJ)(i.db,"blog"));await(0,a.BN)(t,{category:e.category,content:e.content,title:e.title,img:(0,c.A)(e.content),summary:e.summary,createdAt:(0,r.A)(),id:t.id})},d=async e=>{console.log(e),await(0,a.kd)((0,a.H9)(i.db,"blog",e))},s=e=>{console.log(e)},_=()=>(0,n.n)({mutationKey:["blogMutate"],mutationFn:e=>(e=>{switch(e.method){case"post":return l(e.data);case"delete":return d(e.data);case"update":return s(e)}})(e)})}}]);
//# sourceMappingURL=219.3967616a.chunk.js.map