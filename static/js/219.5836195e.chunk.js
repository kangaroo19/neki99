"use strict";(self.webpackChunkneki99=self.webpackChunkneki99||[]).push([[219],{106:(e,t,r)=>{r.r(t),r.d(t,{default:()=>A});var n=r(1152),a=r(7528),o=r(5043),c=r(2823),i=r.n(c),s=(r(5884),r(5399)),l=r(8147),d=r(7008),u=r.n(d),g=r(5952),h=r(7709),m=(r(7799),r(4858));const p=()=>{const[e,t]=(0,o.useState)(""),r=(0,o.useRef)(null);return{imageHandler:()=>{const e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("accept","image/*"),e.click(),e.addEventListener("change",(async()=>{const n=r.current.getEditor(),a=e.files[0],o=n.getSelection(!0);try{const e=(0,l.KR)(s.I,"image/".concat(Date.now()));await(0,l.D)(e,a).then((e=>{(0,l.qk)(e.ref).then((e=>{n.insertEmbed(o.index,"image",e),n.setSelection(o.index+1),console.log("url \ud655\uc778",e),t(e)}))}))}catch(c){console.log(c)}}))},quillRef:r,imageUrl:e}};var y,b=r(4574),f=r(579);function w(){const{imageHandler:e,quillRef:t,imageUrl:r}=p(),n=(0,o.useMemo)((()=>({toolbar:{container:[["image","link","video","code-block"],[{header:[1,2,3,!1]}],["bold","italic","underline","strike","blockquote"],[{color:[]},{background:[]}],[{list:"ordered"},{list:"bullet"}]],handlers:{image:e}},syntax:{highlight:e=>h.A.highlightAuto(e).value},imageDropAndPaste:{},ImageResize:{parchment:c.Quill.import("parchment"),mopdules:["Resize","DisplaySize"]}})),[]),{getValues:a,setValue:i}=(0,m.xW)();return(0,f.jsx)("div",{className:"ql-snow",children:(0,f.jsx)(k,{className:"ql-editor",ref:t,theme:"snow",placeholder:"\ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.",onChange:e=>{i("content",e),console.log(e)},modules:n,formats:["header","bold","italic","underline","strike","blockquote","image","code-block","list","link"],value:a("content")})})}c.Quill.register("modules/ImageResize",u()),c.Quill.register("modules/imageDropAndPaste",g.A),h.A.configure({languages:["javascript","ruby","python","rust"]});const k=(0,b.Ay)(i())(y||(y=(0,a.A)(["\n  & > .ql-toolbar {\n    position: sticky;\n  }\n  & > .ql-container {\n    overflow-x: hidden;\n    height: 300px;\n  }\n"])));var x=r(5362);function A(){const e=(0,m.mN)(),{mutate:t}=(0,x._u)();return(0,f.jsxs)(m.Op,{...e,children:[(0,f.jsx)(m.xI,{name:"category",control:e.control,defaultValue:"",render:e=>{let{field:t}=e;return(0,f.jsxs)("select",{...t,children:[(0,f.jsx)("option",{value:"",children:"\uc120\ud0dd\ud558\uc138\uc694"}),(0,f.jsx)("option",{value:"react",children:"\ub9ac\uc561\ud2b8"}),(0,f.jsx)("option",{value:"javascript",children:"\uc790\ubc14\uc2a4\ud06c\ub9bd\ud2b8"}),(0,f.jsx)("option",{value:"other",children:"\uae30\ud0c0"})]})}}),(0,f.jsx)(n.A.Input,{width:"100%",placeholder:"\uc81c\ubaa9\uc744 \uc791\uc131\ud574 \uc8fc\uc138\uc694",registerFn:e.register("title")}),(0,f.jsx)(n.A.Input,{width:"100%",placeholder:"\uc694\uc57d\uc744 \uc791\uc131\ud574 \uc8fc\uc138\uc694",registerFn:e.register("summary")}),(0,f.jsx)(w,{}),(0,f.jsx)(n.A.Button,{onClick:e.handleSubmit((e=>{t(e)})),children:"\uc804\uc1a1"})]})}},5399:(e,t,r)=>{r.d(t,{I:()=>s,db:()=>i});var n=r(7064),a=r(6032),o=r(8147);const c=(0,n.Wp)({apiKey:"AIzaSyDPNsFfkdl2fwo4vyMJRC3Wr053XlW7zGs",authDomain:"neki99-7324a.firebaseapp.com",projectId:"neki99-7324a",storageBucket:"neki99-7324a.appspot.com",messagingSenderId:"1043899751655",appId:"1:1043899751655:web:478037e3c7986ab7e71642",measurementId:"G-GTXK2JTFGH"}),i=(0,a.aU)(c),s=(0,o.c7)(c)},1565:(e,t,r)=>{function n(){const e=new Date,t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),a=String(e.getHours()).padStart(2,"0"),o=String(e.getMinutes()).padStart(2,"0"),c=String(e.getSeconds()).padStart(2,"0");return"".concat(t,"-").concat(r,"-").concat(n," ").concat(a,":").concat(o,":").concat(c)}r.d(t,{A:()=>n})},5362:(e,t,r)=>{r.d(t,{_u:()=>y,OI:()=>p,P9:()=>b});var n=r(3747),a=r(7097),o=r(5399),c=r(6032),i=r(1565);const s=r.p+"static/media/noImg.d01f81a0627ebc34dc35.webp";function l(e){const t=(new DOMParser).parseFromString(e,"text/html").querySelector("img");return t?t.src:s}const d=async()=>{const e=[];try{const t=(0,c.P)((0,c.rJ)(o.db,"blog"),(0,c.My)("createdAt","desc"));return(await(0,c.GG)(t)).forEach((t=>{e.push({id:t.id,title:t.data().title,img:t.data().img,summary:t.data().summary})})),e}catch(t){throw console.error("Error fetching document:",t),t}},u=async()=>{const e=[];try{const t=(0,c.P)((0,c.rJ)(o.db,"blog"),(0,c.My)("createdAt","desc"));return(await(0,c.GG)(t)).forEach((t=>{e.push({...t.data(),id:t.id})})),e}catch(t){throw console.error("Error fetching document:",t),t}},g=async()=>{const e=[];try{const t=(0,c.P)((0,c.rJ)(o.db,"blog"),(0,c.My)("createdAt","desc"));return(await(0,c.GG)(t)).forEach((t=>{e.push({...t.data(),id:t.id})})),e}catch(t){throw console.error("Error fetching document:",t),t}},h=async()=>{const e=[];try{const t=(0,c.P)((0,c.rJ)(o.db,"blog"),(0,c.My)("createdAt","desc"));return(await(0,c.GG)(t)).forEach((t=>{e.push({...t.data(),id:t.id})})),e}catch(t){throw console.error("Error fetching document:",t),t}},m=async e=>{const t=(0,c.H9)((0,c.rJ)(o.db,"blog"));await(0,c.BN)(t,{category:e.category,content:e.content,title:e.title,img:l(e.content),summary:e.summary,createdAt:(0,i.A)(),id:t.id})},p=e=>(0,n.I)({queryKey:["blogList",e],queryFn:()=>(e=>{switch(e.label){case"all":return d();case"React":return u();case"JavaScript":return g();default:return h()}})(e)}),y=()=>(0,a.n)({mutationFn:m}),b=e=>(0,n.I)({queryKey:["blogDetail",e],queryFn:()=>(async e=>{const t=(0,c.P)((0,c.rJ)(o.db,"blog"),(0,c._M)("id","==",e)),r=[];return(await(0,c.GG)(t)).forEach((e=>{r.push(e.data())})),r[0]})(e),enabled:!1})}}]);
//# sourceMappingURL=219.5836195e.chunk.js.map