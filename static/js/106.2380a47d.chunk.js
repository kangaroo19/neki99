"use strict";(self.webpackChunkneki99=self.webpackChunkneki99||[]).push([[106],{106:(e,t,n)=>{n.r(t),n.d(t,{default:()=>A});var r=n(2900),l=n(7528),i=n(5043),o=n(2823),a=n.n(o),s=(n(5884),n(791)),c=n(8147),u=n(7008),d=n.n(u),g=n(5952),h=n(7709),m=(n(7799),n(4858));const p=()=>{const[e,t]=(0,i.useState)(""),n=(0,i.useRef)(null);return{imageHandler:()=>{const e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("accept","image/*"),e.click(),e.addEventListener("change",(async()=>{const r=n.current.getEditor(),l=e.files[0],i=r.getSelection(!0);try{const e=(0,c.KR)(s.I,"image/".concat(Date.now()));await(0,c.D)(e,l).then((e=>{(0,c.qk)(e.ref).then((e=>{r.insertEmbed(i.index,"image",e),r.setSelection(i.index+1),console.log("url \ud655\uc778",e),t(e)}))}))}catch(o){console.log(o)}}))},quillRef:n,imageUrl:e}};var b,y=n(4574),x=n(579);function f(){const{imageHandler:e,quillRef:t,imageUrl:n}=p(),r=(0,i.useMemo)((()=>({toolbar:{container:[["image","link","video","code-block"],[{header:[1,2,3,!1]}],["bold","italic","underline","strike","blockquote"],[{color:[]},{background:[]}],[{list:"ordered"},{list:"bullet"}]],handlers:{image:e}},syntax:{highlight:e=>h.A.highlightAuto(e).value},imageDropAndPaste:{},ImageResize:{parchment:o.Quill.import("parchment"),mopdules:["Resize","DisplaySize"]}})),[]),{getValues:l,setValue:a}=(0,m.xW)();return(0,x.jsx)("div",{className:"ql-snow",children:(0,x.jsx)(k,{className:"ql-editor",ref:t,theme:"snow",placeholder:"\ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.",onChange:e=>{a("content",e),console.log(e)},modules:r,formats:["header","bold","italic","underline","strike","blockquote","image","code-block","list","link"],value:l("content")})})}o.Quill.register("modules/ImageResize",d()),o.Quill.register("modules/imageDropAndPaste",g.A),h.A.configure({languages:["javascript","ruby","python","rust"]});const k=(0,y.Ay)(a())(b||(b=(0,l.A)(["\n  & > .ql-toolbar {\n    position: sticky;\n  }\n  & > .ql-container {\n    overflow-x: hidden;\n    height: 300px;\n  }\n"])));var v=n(6808);function A(){const e=(0,m.mN)(),{mutate:t}=(0,v._u)();return(0,x.jsxs)(m.Op,{...e,children:[(0,x.jsx)(m.xI,{name:"category",control:e.control,defaultValue:"",render:e=>{let{field:t}=e;return(0,x.jsxs)("select",{...t,children:[(0,x.jsx)("option",{value:"",children:"\uc120\ud0dd\ud558\uc138\uc694"}),(0,x.jsx)("option",{value:"react",children:"\ub9ac\uc561\ud2b8"}),(0,x.jsx)("option",{value:"javascript",children:"\uc790\ubc14\uc2a4\ud06c\ub9bd\ud2b8"}),(0,x.jsx)("option",{value:"other",children:"\uae30\ud0c0"})]})}}),(0,x.jsx)(r.A.Input,{width:"100%",placeholder:"\uc81c\ubaa9\uc744 \uc791\uc131\ud574 \uc8fc\uc138\uc694",registerFn:e.register("title")}),(0,x.jsx)(r.A.Input,{width:"100%",placeholder:"\uc694\uc57d\uc744 \uc791\uc131\ud574 \uc8fc\uc138\uc694",registerFn:e.register("summary")}),(0,x.jsx)(f,{}),(0,x.jsx)(r.A.Button,{onClick:e.handleSubmit((e=>{t(e)})),children:"\uc804\uc1a1"})]})}},6808:(e,t,n)=>{n.d(t,{OI:()=>u,_u:()=>d});var r=n(3747),l=n(7097),i=n(791),o=n(6032),a=n(1565);const s=async()=>{const e=[];try{const t=(0,o.P)((0,o.rJ)(i.db,"blog"),(0,o.My)("createdAt","desc"));return(await(0,o.GG)(t)).forEach((t=>{e.push({...t.data(),id:t.id})})),e}catch(t){throw console.error("Error fetching document:",t),t}},c=async e=>{await(0,o.gS)((0,o.rJ)(i.db,"blog"),{category:e.category,content:e.content,title:e.title,summary:e.summary,createdAt:(0,a.A)(),id:null})},u=()=>(0,r.I)({queryKey:["blogList"],queryFn:s}),d=()=>(0,l.n)({mutationFn:c})}}]);
//# sourceMappingURL=106.2380a47d.chunk.js.map