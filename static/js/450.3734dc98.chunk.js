"use strict";(self.webpackChunkneki99=self.webpackChunkneki99||[]).push([[450],{6450:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var r=n(7528),o=n(7070),c=n(3747),i=n(7097),a=n(5399),d=n(6032);const s=async()=>{const e=[];try{const t=(0,d.P)((0,d.rJ)(a.db,"guestBook"),(0,d.My)("createdAt","desc"));return(await(0,d.GG)(t)).forEach((t=>{e.push(t.data())})),e}catch(t){throw console.error("Error fetching document:",t),t}},l=async e=>{await(0,d.gS)((0,d.rJ)(a.db,"guestBook"),{writer:e.writer,content:e.content,createdAt:e.createdAt})},u=()=>(0,c.I)({queryKey:["guestbook"],queryFn:s}),h=()=>(0,i.n)({mutationFn:l});var p,g,w=n(9477),x=n(4574),k=n(3105),A=n(5564),b=n(4858),j=n(1565),S=n(579);function f(){const{onClickWindowClose:e,windowRenderObj:t,onClickWindow:n}=(0,o.F)(),{refetch:r,data:c,isLoading:i}=u(),{mutate:a}=h(),{register:d,handleSubmit:s,reset:l}=(0,b.mN)();return(0,S.jsxs)(w.A,{width:"800px",top:"5%",left:"10%",zIndex:t.guestBookWindow.zIndexValue,onClick:()=>n("guestBookWindow"),children:[(0,S.jsx)(w.A.Header,{onClick:()=>e("guestBookWindow"),children:"\ubc29\uba85\ub85d"}),(0,S.jsx)(w.A.HeadMenu,{}),(0,S.jsx)(w.A.Content,{children:(0,S.jsx)(w.A.ContentSection,{height:"200px",children:(0,S.jsx)(w.A.ScrollView,{width:"100%",background:"white",children:!i&&c.map((e=>(0,S.jsxs)(y,{children:[(0,S.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,S.jsx)("span",{children:e.writer}),(0,S.jsx)("span",{children:e.createdAt})]}),(0,S.jsx)(k.o,{children:e.content})]})))})})}),(0,S.jsxs)(w.A.Footer,{children:[(0,S.jsx)(w.A.Input,{width:"50%",placeholder:"\uc774\ub984\uc744 \uc791\uc131\ud574 \uc8fc\uc138\uc694",registerFn:d("writer")}),(0,S.jsx)(w.A.Input,{width:"100%",rows:4,placeholder:"\ubc29\uba85\ub85d\uc744 \uc791\uc131\ud574 \uc8fc\uc138\uc694",multiline:!0,registerFn:d("content")}),(0,S.jsx)(m,{children:(0,S.jsx)(w.A.Button,{width:"20%",onClick:s((e=>{""!==e.writer&&""!==e.content&&(e.createdAt=(0,j.A)(),a(e,{onSuccess:()=>{l({content:"",writer:""}),r()}}))})),children:"\ub4f1\ub85d"})})]})]})}const y=x.Ay.div(p||(p=(0,r.A)(["\n  padding: 5px;\n  border-bottom: 2px solid;\n  border-color: rgb(223, 223, 223) rgb(10, 10, 10) rgb(10, 10, 10) rgb(223, 223, 223);\n"]))),m=(0,x.Ay)(A.Me)(g||(g=(0,r.A)(["\n  display: flex;\n  justify-content: flex-end;\n  padding-right: 0;\n"])))},5399:(e,t,n)=>{n.d(t,{I:()=>d,db:()=>a});var r=n(7064),o=n(6032),c=n(8147);const i=(0,r.Wp)({apiKey:"AIzaSyDPNsFfkdl2fwo4vyMJRC3Wr053XlW7zGs",authDomain:"neki99-7324a.firebaseapp.com",projectId:"neki99-7324a",storageBucket:"neki99-7324a.appspot.com",messagingSenderId:"1043899751655",appId:"1:1043899751655:web:478037e3c7986ab7e71642",measurementId:"G-GTXK2JTFGH"}),a=(0,o.aU)(i),d=(0,c.c7)(i)},1565:(e,t,n)=>{function r(){const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),o=String(e.getHours()).padStart(2,"0"),c=String(e.getMinutes()).padStart(2,"0"),i=String(e.getSeconds()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r," ").concat(o,":").concat(c,":").concat(i)}n.d(t,{A:()=>r})}}]);
//# sourceMappingURL=450.3734dc98.chunk.js.map